import { Meta, Story } from "@storybook/web-components";
import { html } from "lit-html";
import "../../packages/nightingale-sequence-heatmap/src/index.ts";

export default {
  title: "Components/Other/SequenceHeatmap",
} as Meta;

const Template: Story<{
  elementId: string;
  width: number;
  height: number;
  "display-start": number;
  "display-end": number;
  "highlight-color": string;
}> = (args) => {
  const { elementId, width, height } = args;
  return html`<nightingale-sequence-heatmap
    heatmapId=${elementId}
    width="${width}"
    height=${height}
    display-start=${args["display-start"]}
    display-end=${args["display-end"]}
    highlight-event="onmouseover"
    highlight-color=${args["highlight-color"]}
  ></nightingale-sequence-heatmap>`;
};

export const SequenceHeatmap = Template.bind({});
SequenceHeatmap.args = {
  width: 500,
  height: 500,
  elementId: "heatmapId1",
};
SequenceHeatmap.play = async () => {
  await customElements.whenDefined("nightingale-sequence-heatmap");
  const heatmapElement = document.getElementsByTagName(
    "nightingale-sequence-heatmap",
  )[0] as any;
  const xDomain = [
    1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,
    22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
    41, 42, 43, 44, 45, 46, 47, 48, 49, 50,
  ];
  const yDomain = ["A", "B", "C"];
  const data = [
    {
      xValue: 1,
      yValue: "A",
      score: 0.8714993819727879,
    },
    {
      xValue: 1,
      yValue: "B",
      score: 0.22997107777060055,
    },
    {
      xValue: 1,
      yValue: "C",
      score: 0.5206715318186015,
    },
    {
      xValue: 2,
      yValue: "A",
      score: 0.133232309275658,
    },
    {
      xValue: 2,
      yValue: "B",
      score: 0.3191599803487697,
    },
    {
      xValue: 2,
      yValue: "C",
      score: 0.7748279226740526,
    },
    {
      xValue: 3,
      yValue: "A",
      score: 0.13078495421402292,
    },
    {
      xValue: 3,
      yValue: "B",
      score: 0.1392723044976525,
    },
    {
      xValue: 3,
      yValue: "C",
      score: 0.10912860613391961,
    },
    {
      xValue: 4,
      yValue: "A",
      score: 0.748950306303716,
    },
    {
      xValue: 4,
      yValue: "B",
      score: 0.9919072807408578,
    },
    {
      xValue: 4,
      yValue: "C",
      score: 0.6452311163219191,
    },
    {
      xValue: 5,
      yValue: "A",
      score: 0.9535570949592682,
    },
    {
      xValue: 5,
      yValue: "B",
      score: 0.5432555499199871,
    },
    {
      xValue: 5,
      yValue: "C",
      score: 0.596290815461817,
    },
    {
      xValue: 6,
      yValue: "A",
      score: 0.5615611804937026,
    },
    {
      xValue: 6,
      yValue: "B",
      score: 0.9261432860280974,
    },
    {
      xValue: 6,
      yValue: "C",
      score: 0.5748416120134185,
    },
    {
      xValue: 7,
      yValue: "A",
      score: 0.06200688419808231,
    },
    {
      xValue: 7,
      yValue: "B",
      score: 0.11140841266469059,
    },
    {
      xValue: 7,
      yValue: "C",
      score: 0.9478391269211779,
    },
    {
      xValue: 8,
      yValue: "A",
      score: 0.25195952440988867,
    },
    {
      xValue: 8,
      yValue: "B",
      score: 0.8607019700344924,
    },
    {
      xValue: 8,
      yValue: "C",
      score: 0.3656865066358417,
    },
    {
      xValue: 9,
      yValue: "A",
      score: 0.32716248279754745,
    },
    {
      xValue: 9,
      yValue: "B",
      score: 0.5444579744886657,
    },
    {
      xValue: 9,
      yValue: "C",
      score: 0.6802322224296815,
    },
    {
      xValue: 10,
      yValue: "A",
      score: 0.07706334766468359,
    },
    {
      xValue: 10,
      yValue: "B",
      score: 0.8625587677982376,
    },
    {
      xValue: 10,
      yValue: "C",
      score: 0.3159180430423878,
    },
    {
      xValue: 11,
      yValue: "A",
      score: 0.07406373264750798,
    },
    {
      xValue: 11,
      yValue: "B",
      score: 0.2644207485225467,
    },
    {
      xValue: 11,
      yValue: "C",
      score: 0.7419853120633513,
    },
    {
      xValue: 12,
      yValue: "A",
      score: 0.3229180187501408,
    },
    {
      xValue: 12,
      yValue: "B",
      score: 0.5349597221558606,
    },
    {
      xValue: 12,
      yValue: "C",
      score: 0.29587490200316124,
    },
    {
      xValue: 13,
      yValue: "A",
      score: 0.5199891656284934,
    },
    {
      xValue: 13,
      yValue: "B",
      score: 0.9777055033100104,
    },
    {
      xValue: 13,
      yValue: "C",
      score: 0.2563994224032131,
    },
    {
      xValue: 14,
      yValue: "A",
      score: 0.8084645816677003,
    },
    {
      xValue: 14,
      yValue: "B",
      score: 0.2926856008013665,
    },
    {
      xValue: 14,
      yValue: "C",
      score: 0.2231870578697368,
    },
    {
      xValue: 15,
      yValue: "A",
      score: 0.22473851325042582,
    },
    {
      xValue: 15,
      yValue: "B",
      score: 0.8093925489209124,
    },
    {
      xValue: 15,
      yValue: "C",
      score: 0.2723402618508075,
    },
    {
      xValue: 16,
      yValue: "A",
      score: 0.4580311774289805,
    },
    {
      xValue: 16,
      yValue: "B",
      score: 0.6064382399308788,
    },
    {
      xValue: 16,
      yValue: "C",
      score: 0.3763375944287237,
    },
    {
      xValue: 17,
      yValue: "A",
      score: 0.8938942103379606,
    },
    {
      xValue: 17,
      yValue: "B",
      score: 0.7869105702035579,
    },
    {
      xValue: 17,
      yValue: "C",
      score: 0.09635439005433111,
    },
    {
      xValue: 18,
      yValue: "A",
      score: 0.705757069147245,
    },
    {
      xValue: 18,
      yValue: "B",
      score: 0.6705347335349394,
    },
    {
      xValue: 18,
      yValue: "C",
      score: 0.5604119973494497,
    },
    {
      xValue: 19,
      yValue: "A",
      score: 0.11261668430849925,
    },
    {
      xValue: 19,
      yValue: "B",
      score: 0.5294530023662547,
    },
    {
      xValue: 19,
      yValue: "C",
      score: 0.7142937498518349,
    },
    {
      xValue: 20,
      yValue: "A",
      score: 0.6911901839193915,
    },
    {
      xValue: 20,
      yValue: "B",
      score: 0.6408441821777016,
    },
    {
      xValue: 20,
      yValue: "C",
      score: 0.24160303601492394,
    },
    {
      xValue: 21,
      yValue: "A",
      score: 0.799784104065149,
    },
    {
      xValue: 21,
      yValue: "B",
      score: 0.16720305181432438,
    },
    {
      xValue: 21,
      yValue: "C",
      score: 0.4650696001440979,
    },
    {
      xValue: 22,
      yValue: "A",
      score: 0.8909419448318026,
    },
    {
      xValue: 22,
      yValue: "B",
      score: 0.5767306092873232,
    },
    {
      xValue: 22,
      yValue: "C",
      score: 0.4333491443532631,
    },
    {
      xValue: 23,
      yValue: "A",
      score: 0.16553519255031635,
    },
    {
      xValue: 23,
      yValue: "B",
      score: 0.38511266098413155,
    },
    {
      xValue: 23,
      yValue: "C",
      score: 0.04015460735816845,
    },
    {
      xValue: 24,
      yValue: "A",
      score: 0.2038106159269979,
    },
    {
      xValue: 24,
      yValue: "B",
      score: 0.36183945964672937,
    },
    {
      xValue: 24,
      yValue: "C",
      score: 0.011393835025820698,
    },
    {
      xValue: 25,
      yValue: "A",
      score: 0.5976152153277121,
    },
    {
      xValue: 25,
      yValue: "B",
      score: 0.9378047483120229,
    },
    {
      xValue: 25,
      yValue: "C",
      score: 0.14138606790109187,
    },
    {
      xValue: 26,
      yValue: "A",
      score: 0.8239930899931405,
    },
    {
      xValue: 26,
      yValue: "B",
      score: 0.5073679048263184,
    },
    {
      xValue: 26,
      yValue: "C",
      score: 0.8004912883029394,
    },
    {
      xValue: 27,
      yValue: "A",
      score: 0.06950466184397786,
    },
    {
      xValue: 27,
      yValue: "B",
      score: 0.32704240764464054,
    },
    {
      xValue: 27,
      yValue: "C",
      score: 0.08785966972909964,
    },
    {
      xValue: 28,
      yValue: "A",
      score: 0.16490488497199984,
    },
    {
      xValue: 28,
      yValue: "B",
      score: 0.5316712503868728,
    },
    {
      xValue: 28,
      yValue: "C",
      score: 0.42335555623498844,
    },
    {
      xValue: 29,
      yValue: "A",
      score: 0.6635405186810053,
    },
    {
      xValue: 29,
      yValue: "B",
      score: 0.2501749422951389,
    },
    {
      xValue: 29,
      yValue: "C",
      score: 0.11304485292618338,
    },
    {
      xValue: 30,
      yValue: "A",
      score: 0.3009032094781128,
    },
    {
      xValue: 30,
      yValue: "B",
      score: 0.07888499171276675,
    },
    {
      xValue: 30,
      yValue: "C",
      score: 0.9266943577927929,
    },
    {
      xValue: 31,
      yValue: "A",
      score: 0.9003731158822985,
    },
    {
      xValue: 31,
      yValue: "B",
      score: 0.42894868857294455,
    },
    {
      xValue: 31,
      yValue: "C",
      score: 0.9369787445409512,
    },
    {
      xValue: 32,
      yValue: "A",
      score: 0.4310449270032486,
    },
    {
      xValue: 32,
      yValue: "B",
      score: 0.6189901977546124,
    },
    {
      xValue: 32,
      yValue: "C",
      score: 0.14008579586880243,
    },
    {
      xValue: 33,
      yValue: "A",
      score: 0.9607515671978306,
    },
    {
      xValue: 33,
      yValue: "B",
      score: 0.7156131719775576,
    },
    {
      xValue: 33,
      yValue: "C",
      score: 0.4575373194542709,
    },
    {
      xValue: 34,
      yValue: "A",
      score: 0.29527122225728886,
    },
    {
      xValue: 34,
      yValue: "B",
      score: 0.12789846865442223,
    },
    {
      xValue: 34,
      yValue: "C",
      score: 0.4535265114126654,
    },
    {
      xValue: 35,
      yValue: "A",
      score: 0.6462674074978854,
    },
    {
      xValue: 35,
      yValue: "B",
      score: 0.7021395428247779,
    },
    {
      xValue: 35,
      yValue: "C",
      score: 0.18184736010728453,
    },
    {
      xValue: 36,
      yValue: "A",
      score: 0.4928426607953602,
    },
    {
      xValue: 36,
      yValue: "B",
      score: 0.9875605909465905,
    },
    {
      xValue: 36,
      yValue: "C",
      score: 0.012162030629773168,
    },
    {
      xValue: 37,
      yValue: "A",
      score: 0.4080401173430812,
    },
    {
      xValue: 37,
      yValue: "B",
      score: 0.7994482106310754,
    },
    {
      xValue: 37,
      yValue: "C",
      score: 0.0009855798511426705,
    },
    {
      xValue: 38,
      yValue: "A",
      score: 0.05453309468739986,
    },
    {
      xValue: 38,
      yValue: "B",
      score: 0.024399524340850576,
    },
    {
      xValue: 38,
      yValue: "C",
      score: 0.19692387880685658,
    },
    {
      xValue: 39,
      yValue: "A",
      score: 0.7531682199790855,
    },
    {
      xValue: 39,
      yValue: "B",
      score: 0.40753693643288913,
    },
    {
      xValue: 39,
      yValue: "C",
      score: 0.8089591746908145,
    },
    {
      xValue: 40,
      yValue: "A",
      score: 0.39012667751491303,
    },
    {
      xValue: 40,
      yValue: "B",
      score: 0.8047050697675073,
    },
    {
      xValue: 40,
      yValue: "C",
      score: 0.5309263985871078,
    },
    {
      xValue: 41,
      yValue: "A",
      score: 0.7988660439367425,
    },
    {
      xValue: 41,
      yValue: "B",
      score: 0.09308712032382815,
    },
    {
      xValue: 41,
      yValue: "C",
      score: 0.003989440541634304,
    },
    {
      xValue: 42,
      yValue: "A",
      score: 0.07182598332797174,
    },
    {
      xValue: 42,
      yValue: "B",
      score: 0.15925624763496038,
    },
    {
      xValue: 42,
      yValue: "C",
      score: 0.023769883766145083,
    },
    {
      xValue: 43,
      yValue: "A",
      score: 0.4462521508927455,
    },
    {
      xValue: 43,
      yValue: "B",
      score: 0.10802894065214774,
    },
    {
      xValue: 43,
      yValue: "C",
      score: 0.9587075249141006,
    },
    {
      xValue: 44,
      yValue: "A",
      score: 0.06565749552926015,
    },
    {
      xValue: 44,
      yValue: "B",
      score: 0.342092954641227,
    },
    {
      xValue: 44,
      yValue: "C",
      score: 0.8157867898895435,
    },
    {
      xValue: 45,
      yValue: "A",
      score: 0.04330379344485458,
    },
    {
      xValue: 45,
      yValue: "B",
      score: 0.5196083033369192,
    },
    {
      xValue: 45,
      yValue: "C",
      score: 0.326667412040075,
    },
    {
      xValue: 46,
      yValue: "A",
      score: 0.3245423462652417,
    },
    {
      xValue: 46,
      yValue: "B",
      score: 0.8640514451675845,
    },
    {
      xValue: 46,
      yValue: "C",
      score: 0.2985191057900072,
    },
    {
      xValue: 47,
      yValue: "A",
      score: 0.5421385893425188,
    },
    {
      xValue: 47,
      yValue: "B",
      score: 0.450300539793955,
    },
    {
      xValue: 47,
      yValue: "C",
      score: 0.08459924727374601,
    },
    {
      xValue: 48,
      yValue: "A",
      score: 0.9602670163050311,
    },
    {
      xValue: 48,
      yValue: "B",
      score: 0.6024295660989056,
    },
    {
      xValue: 48,
      yValue: "C",
      score: 0.46230341201122505,
    },
    {
      xValue: 49,
      yValue: "A",
      score: 0.6049444036261917,
    },
    {
      xValue: 49,
      yValue: "B",
      score: 0.8357032805014823,
    },
    {
      xValue: 49,
      yValue: "C",
      score: 0.36880946963980743,
    },
    {
      xValue: 50,
      yValue: "A",
      score: 0.19873985344420197,
    },
    {
      xValue: 50,
      yValue: "B",
      score: 0.9454640888198478,
    },
    {
      xValue: 50,
      yValue: "C",
      score: 0.6311161972003472,
    },
  ];
  if (heatmapElement) heatmapElement.setHeatmapData(xDomain, yDomain, data);
};
